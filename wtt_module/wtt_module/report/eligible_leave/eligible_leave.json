{
 "add_total_row": 0,
 "columns": [],
 "creation": "2024-01-01 14:00:38.428186",
 "disable_prepared_report": 0,
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [],
 "idx": 0,
 "is_standard": "Yes",
 "modified": "2024-01-01 14:05:42.212602",
 "modified_by": "Administrator",
 "module": "wtt_module",
 "name": "Eligible Leave",
 "owner": "Administrator",
 "prepared_report": 0,
 "query": "SELECT \n`tabEmployee`.employee_name,\n`tabAttendance`.employee,\nCASE WHEN (SUM(CASE WHEN `tabAttendance`.status = 'Present' THEN 1 ELSE 0 END) + SUM(CASE WHEN `tabAttendance`.status = 'Half Day' THEN 1 ELSE 0 END)/2)>=23.3 THEN (SUM(CASE WHEN `tabAttendance`.status = 'Present' THEN 1 ELSE 0 END) + SUM(CASE WHEN `tabAttendance`.status = 'Half Day' THEN 1 ELSE 0 END)/2) ELSE 0 END  AS Total,\nFLOOR((SUM(CASE WHEN `tabAttendance`.status = 'Present' THEN 1 ELSE 0 END) + SUM(CASE WHEN `tabAttendance`.status = 'Half Day' THEN 1 ELSE 0 END)/2)/23.3 *2)/2 AS EL\nFROM \n`tabAttendance`\nINNER JOIN `tabEmployee`\n ON `tabEmployee`.employee_name=`tabAttendance`.employee_name\n WHERE\n`tabEmployee`.Status='Active'\nAND\nNOT `tabEmployee`.Department='House keeping - WTT'\nAND\nNOT `tabAttendance`.status='Absent'\nAND\n`tabAttendance`.attendance_date >= '2023-01-01'\nAND \nNOT WEEKDAY(`tabAttendance`.attendance_date) = 6\nGROUP BY `tabAttendance`.employee_name",
 "ref_doctype": "Attendance",
 "report_name": "Eligible Leave",
 "report_type": "Query Report",
 "roles": [
  {
   "role": "HR Manager"
  },
  {
   "role": "HR User"
  },
  {
   "role": "System Manager"
  },
  {
   "role": "WTT - HR"
  },
  {
   "role": "Employee"
  }
 ]
}